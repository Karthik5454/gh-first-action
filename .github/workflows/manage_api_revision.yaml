name: Manage APIM Revisions

on:
  workflow_dispatch:
    inputs:
      action:
        description: 'Choose the action to perform: "create" for creating a new revision, "activate" for setting a revision as current, "delete" for deleting a revision'
        required: true
        default: 'create'
        options:
          - create
          - activate
          - delete

jobs:
  create-revision:
    if: ${{ github.event.inputs.action == 'create' }}
    runs-on: ubuntu-latest
    steps:
    - name: Log in to Azure
      run: az login --service-principal -u fca4af1e-520f-4fa2-9435-5d61bf418430 -p a-n8Q~ecSAmoyjoPW5V7F~2Zwj9Jm.nQWF62xc1S --tenant 84f1e4ea-8554-43e1-8709-f0b8589ea118
   
